<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>خريطة توزيع الطبقات</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }
  </style>
</head>
<body>
  <div id="map"></div>
  
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // إنشاء الخريطة وتحديد المركز والتكبير
    var map = L.map('map').setView([32.0478, 35.1635], 14);

    // طبقة الأساس
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // أنماط الطبقات
    const styles = {
      mazare: { color: 'blue', weight: 1, fillOpacity: 0.1 },
      urbanPlan: { color: 'green', weight: 2, fillOpacity: 0.2 },
      roadsOutside: { color: 'black', weight: 2 },
      roadsInside: { color: 'gray', weight: 2 },
      buildings: { color: 'red', weight: 2, fillOpacity: 0.6 }
    };

    // مصفوفة لتخزين الطبقات لأداة التحكم
    let overlayLayers = {};

    // دالة تحميل الطبقات وإضافتها
    function loadLayer(url, style, name, options = {}) {
      fetch(url)
        .then(response => response.json())
        .then(data => {
          const layer = L.geoJSON(data, { style: style }).addTo(map);
          overlayLayers[name] = layer;

          if (options.bringToFront) {
            layer.bringToFront();
          }
          if (options.bringToBack) {
            layer.br
